<!-- View a DeepOSM predicted error on the map.
-->

{% extends 'base.html' %}

{% block head_content %}
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
    <style> 
        #mapid { height: 180px; margin-bottom:20px;}
    </style>
{% endblock%}


{% block content %}
    
		<h3><span class=gray-span>{{ analysis_title }}</span> - Error ID {{ error.id }}</h3>
		<table>

    	  <tr>
    	      <div id="mapid"></div>
    	  </tr>

		    <tr>
		        <td>
		            Certainty {{error.certainty}}
		        </td>
		        <td>
		            <span class=gray-span>NE</span> {{error.neLat}}, {{error.neLon}}
		        </td>
		        <td>
			          <span class=gray-span>SW</span> {{error.swLat}}, {{error.swLon}}
		        </td>
    	  </tr>

		</table>

		<script type="text/javascript">
        var mymap = L.map('mapid').setView([{{error.neLat}}, {{error.neLon}}], 13);
        L.tileLayer('http://b.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
            maxZoom: 18,
}).addTo(mymap);
    </script>

{% endblock %}
